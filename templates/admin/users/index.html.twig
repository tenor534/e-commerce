{% extends "base.html.twig" %}

{% block title %}Administration - Users List{% endblock %}
{% block body %}

<div class="archive-title clearfix">
    <div class="row align-items-end">

        <div class="col-md-8">
            <h2 class="page-title mb-2 mb-md-0">Administration - Users List</h2>
        </div>
    </div>

</div>

<div class="bd-callout bd-callout-info">    
    
</div>

 <div>
    <!-- Content here-->
    <section>
        <div class="bd-exemple-snippet bd-code-snippet">
            <div class="bd-example m-0 p-0 border-0">           

                <div class="container">
                    <div class="row">
                        {% include "_partials/_adminnav.html.twig" %}
                        <main class="col-9 border-light bg-white p-0 m-0">                            
                            
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th scope="col">#</th>
                                        <th scope="col">Firstname</th>
                                        <th scope="col">Lastname</th>
                                        <th scope="col">Email</th>
                                        <th scope="col">Roles</th>
                                        <th scope="col">Is verified</th>
                                        <th scope="col">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for user in users %}
                                    <tr>
                                        <th scope="row">{{ user.id }}</th>                                         
                                        <td>{{ user.firstname }}</td>
                                        <td>{{ user.lastname }}</td>
                                        <td>{{ user.email }}</td>
                                        <td>
                                          {% for role in user.roles %}
                                             {% if role == 'ROLE_ADMIN' %}
                                                {% set name = 'Administrator' %}
                                             {% elseif role == 'ROLE_PRODUCT_ADMIN' %}                                                   
                                                {% set name = 'Admin Products' %}
                                             {% else %}   
                                                {% set name = 'Member' %}
                                             {% endif %}                                        
                                             <span class="badge bg-secondary">
                                                {{ name }}
                                             </span>
                                          {% endfor %}
                                       </td>
                                        <td>
                                          
                                          
                                          <div class="form-check form-switch">
                                             <input class="form-check-input" type="checkbox" role="switch" id="switch{{ user.id }}" {{ user.isVerified ? 'checked' : '' }} disabled>
                                             <label class="form-check-label" for="switch{{ user.id }}"></label>
                                           </div>

                                        </td>
                                        <td class="text-center"><a href="#" class="btn btn-success">Update</a></td>

                                    </tr>                                        
                                    {% endfor %}
                            
                                </tbody>
                            </table>

                        </main>

                    </div>
                </div>

            </div>
        </div>
    </section>
</div>   

    
{% endblock %}